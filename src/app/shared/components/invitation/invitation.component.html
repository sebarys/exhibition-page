<div *ngIf="pageInitialised">

  <!-- run out of invitations -->
  <div *ngIf="!alreadyInvited && numberOfFreeInvitations <= 0">
    <p>
        Thank you for your interest but no free invitations left.
        See you at future events of Technokultura!
    </p>
  </div>
  <!-- END run out of invitations -->

  <!-- user already generated invitation -->
  <div *ngIf="alreadyInvited">
    You already generated your invitation.
    <br />
    Your invitation refrence number: {{invitationId}}. Please bring this code with yourself on exhibition
    <br />
  </div>
  <!-- END user already generated invitation -->

  <!-- user not already invited -->
  <div *ngIf="!alreadyInvited  && numberOfFreeInvitations > 0">

    To Generate invitation please provide your name and confirm that you are not robot
    <br />

    <div>
        <form [formGroup]="invitationForm" (ngSubmit)="generateInvitation()">
            <div class="form-group">
              <label>First Name</label>
              <input type="text" formControlName="firstName" class="form-control"
                [ngClass]="{ 'is-invalid': formSubmitted && form.firstName.errors }" />
              <div *ngIf="formSubmitted && form.firstName.errors" class="invalid-feedback">
                  <div *ngIf="form.firstName.errors.required">First Name is required</div>
              </div>
            </div>

            <div class="form-group">
              <re-captcha formControlName="recaptcha" (resolved)="captchaResolved($event)"></re-captcha>
            </div>

            <div class="form-group">
              <button [disabled]="form.invalid" class="btn btn-primary">Generate invitation</button>
            </div>
        </form>
    </div>
    <div *ngIf="generatingInvitationInProgress">
      <p>Generating invitation...</p>
    </div>
  </div>
  <!-- END user not already invited  -->

</div>
